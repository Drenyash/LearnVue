<template>  <main class="main">    <header class="main__head">      <my-modal v-model:show="show">        <my-form @create="addNewPost"/>      </my-modal>      <div class="main__control">        <my-button class="main__button" @click="showModal">Добавить пост</my-button>        <my-input            type="text"            v-model="query"            placeholder="Найти..."        />      </div>    </header>    <div class="loader" v-if="isLoading"></div>    <div class="posts" v-if="posts.length > 0">      <my-posts :posts="searchQuery" @remove="removePost"></my-posts>    </div>    <h2 v-else-if="isLoading === false && posts.length <= 0">Посты не найдены...</h2>    <div ref="observer" class="observer"></div>  </main></template><script>import MyHeader from "@/components/MyHeader.vue";import MyPosts from "@/components/MyPosts.vue";import MyModal from "@/components/UI/MyModal.vue";import MyForm from "@/components/MyForm.vue";import axios from "axios";import MyButton from "@/components/UI/Button.vue";import MyInput from "@/components/UI/Input.vue";export default {  components: {MyInput, MyButton, MyHeader, MyPosts, MyModal, MyForm},  data() {    return {      posts: [],      isLoading: true,      show: false,      query: '',      limit: 10,      page: 0,    }  },  methods: {    addNewPost(post) {      this.posts.push(post);      this.show = false;    },    showModal() {      this.show = true;    },    removePost(post) {      this.posts = this.posts.filter(el => el.id !== post.id)    },    async addMorePosts() {      try {        this.page += 1;        const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {          params: {            _page: this.page,            _limit: this.limit,          }        });        this.posts = [...this.posts, ...response.data]        this.isLoading = false;      } catch (error) {        console.error(error);      }    },  },  mounted() {    const options = {      rootMargin: '20px',      threshold: 1.0    }    const callback = (entries, observer) => {      if (entries[0].isIntersecting && this.page <= 10) {        this.addMorePosts()      }    }    const observer = new IntersectionObserver(callback, options);    observer.observe(this.$refs.observer)  },  computed: {    searchQuery() {      return this.posts.filter(el => el.title.toLowerCase().includes(this.query.toLowerCase()))    }  }}</script><style lang="scss" scoped>.main__head {  display: flex;  flex-direction: column;  align-items: center;  padding: 50px 20px;}.main__control {  display: flex;  align-items: center;  column-gap: 30px;}.loader {  display: block;  margin: 0 auto;  width: 50px;  height: 50px;  border: 5px solid #fff;  border-top-color: blue;  border-radius: 50%;  animation: rotate 0.8s infinite forwards linear;}.posts {  display: flex;  justify-content: center;  width: 100%;  padding: 10px;}.observer {  height: 30px;}@keyframes rotate {  0% {    transform: rotate(0);  }  100% {    transform: rotate(360deg);  }}</style>